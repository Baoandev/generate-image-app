{"ast":null,"code":"var _jsxFileName = \"D:\\\\tlcn\\\\generate-image-app\\\\client\\\\src\\\\components\\\\UploadImageZone.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { TextField, IconButton, Box, Typography, Paper, Grid2 } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { useDropzone } from 'react-dropzone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UploadImageZone({\n  fileBase64,\n  onChange,\n  ...props\n}) {\n  _s();\n  const [image, setImage] = useState(null);\n  useEffect(() => {\n    if (fileBase64) {\n      setImage({\n        name: 'edit image',\n        preview: fileBase64\n      });\n    } else {\n      setImage(null);\n    }\n    return () => {\n      if (image !== null && image !== void 0 && image.preview) {\n        URL.revokeObjectURL(image.preview);\n      }\n    };\n  }, [fileBase64]);\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles[0]) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        const result = reader.result;\n        console.log(result);\n        setImage({\n          name: 'edit image',\n          preview: result\n        });\n        if (typeof onChange === 'function') onChange(result || '');\n      };\n      reader.readAsDataURL(acceptedFiles[0]);\n    }\n  }, [onChange]);\n  const {\n    getRootProps,\n    getInputProps\n  } = useDropzone({\n    accept: {\n      'image/*': []\n    },\n    maxFiles: 1,\n    onDrop\n  });\n  const handleDeleteImage = () => {\n    setImage(null);\n    if (typeof onChange === 'function') onChange('');\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    variant: \"outlined\",\n    sx: {\n      maxHeight: '324px',\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    ...props,\n    children: !(image !== null && image !== void 0 && image.preview) ? /*#__PURE__*/_jsxDEV(Grid2, {\n      container: true,\n      ...getRootProps(),\n      sx: {\n        p: 2,\n        cursor: 'pointer',\n        width: '100%',\n        height: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        sx: {\n          opacity: 0.6\n        },\n        children: \"Drag and drop a file here, or click to select a file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'relative',\n        minHeight: '100px',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        p: '1px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: handleDeleteImage,\n        sx: {\n          position: 'absolute',\n          fontSize: '16px',\n          p: '4px',\n          right: '8px',\n          top: '8px',\n          background: 'rgba(255, 255, 255, 0.8)',\n          '&:hover': {\n            boxShadow: '0 0 4px #d3d3d3',\n            background: '#dddddd',\n            color: 'black'\n          }\n        },\n        \"aria-label\": \"delete\",\n        children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n          fontSize: \"inherit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image.preview,\n        style: {\n          height: '100%',\n          width: '100%',\n          objectFit: 'contain'\n        },\n        alt: image.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(UploadImageZone, \"no6Tv4nDyb7Za1WS73bY1vST4YE=\", false, function () {\n  return [useDropzone];\n});\n_c = UploadImageZone;\nexport default UploadImageZone;\nvar _c;\n$RefreshReg$(_c, \"UploadImageZone\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","TextField","IconButton","Box","Typography","Paper","Grid2","DeleteIcon","useDropzone","jsxDEV","_jsxDEV","UploadImageZone","fileBase64","onChange","props","_s","image","setImage","name","preview","URL","revokeObjectURL","onDrop","acceptedFiles","reader","FileReader","onload","result","console","log","readAsDataURL","getRootProps","getInputProps","accept","maxFiles","handleDeleteImage","variant","sx","maxHeight","display","justifyContent","children","container","p","cursor","width","height","fileName","_jsxFileName","lineNumber","columnNumber","opacity","position","minHeight","alignItems","onClick","fontSize","right","top","background","boxShadow","color","src","style","objectFit","alt","_c","$RefreshReg$"],"sources":["D:/tlcn/generate-image-app/client/src/components/UploadImageZone.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\nimport { TextField, IconButton, Box, Typography, Paper, Grid2 } from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport { useDropzone } from 'react-dropzone';\r\n\r\nfunction UploadImageZone({ fileBase64, onChange, ...props }) {\r\n    const [image, setImage] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (fileBase64) {\r\n            setImage({\r\n                name: 'edit image',\r\n                preview: fileBase64,\r\n            });\r\n        } else {\r\n            setImage(null);\r\n        }\r\n        return () => {\r\n            if (image?.preview) {\r\n                URL.revokeObjectURL(image.preview);\r\n            }\r\n        };\r\n    }, [fileBase64]);\r\n\r\n    const onDrop = useCallback(\r\n        (acceptedFiles) => {\r\n            if (acceptedFiles[0]) {\r\n                const reader = new FileReader();\r\n                reader.onload = () => {\r\n                    const result = reader.result;\r\n                    console.log(result);\r\n                    setImage({ name: 'edit image', preview: result });\r\n                    if (typeof onChange === 'function')\r\n                        onChange(result || '');\r\n                };\r\n                reader.readAsDataURL(acceptedFiles[0]);\r\n            }\r\n        },\r\n        [onChange]\r\n    );\r\n\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        accept: { 'image/*': [] },\r\n        maxFiles: 1,\r\n        onDrop,\r\n    });\r\n\r\n    const handleDeleteImage = () => {\r\n        setImage(null);\r\n        if (typeof onChange === 'function')\r\n            onChange('');\r\n    };\r\n\r\n    return (\r\n        <Paper variant='outlined' sx={{\r\n            maxHeight: '324px',\r\n            display: 'flex',\r\n            justifyContent: 'center'\r\n        }} {...props}>\r\n            {!image?.preview ? (\r\n                <Grid2 container\r\n                    {...getRootProps()}\r\n                    sx={{ p: 2, cursor: 'pointer', width: '100%', height: '100%' }}\r\n                >\r\n                    <input {...getInputProps()} />\r\n                    <Typography variant=\"body2\" sx={{ opacity: 0.6 }}>\r\n                        Drag and drop a file here, or click to select a file\r\n                    </Typography>\r\n                </Grid2>\r\n            ) : (\r\n                <Box\r\n                    sx={{\r\n                        position: 'relative',\r\n                        minHeight: '100px',\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center',\r\n                        p: '1px',\r\n                    }}\r\n                >\r\n                    <IconButton\r\n                        onClick={handleDeleteImage}\r\n                        sx={{\r\n                            position: 'absolute',\r\n                            fontSize: '16px',\r\n                            p: '4px',\r\n                            right: '8px',\r\n                            top: '8px',\r\n                            background: 'rgba(255, 255, 255, 0.8)',\r\n                            '&:hover': { boxShadow: '0 0 4px #d3d3d3', background: '#dddddd', color: 'black' },\r\n                        }}\r\n                        aria-label=\"delete\"\r\n                    >\r\n                        <DeleteIcon fontSize=\"inherit\" />\r\n                    </IconButton>\r\n                    <img\r\n                        src={image.preview}\r\n                        style={{\r\n                            height: '100%',\r\n                            width: '100%',\r\n                            objectFit: 'contain',\r\n                        }}\r\n                        alt={image.name}\r\n                    />\r\n                </Box>\r\n            )}\r\n        </Paper>\r\n    );\r\n}\r\n\r\nexport default UploadImageZone;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC/D,SAASC,SAAS,EAAEC,UAAU,EAAEC,GAAG,EAAEC,UAAU,EAAEC,KAAK,EAAEC,KAAK,QAAQ,eAAe;AACpF,OAAOC,UAAU,MAAM,4BAA4B;AACnD,SAASC,WAAW,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,SAASC,eAAeA,CAAC;EAAEC,UAAU;EAAEC,QAAQ;EAAE,GAAGC;AAAM,CAAC,EAAE;EAAAC,EAAA;EACzD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACZ,IAAIa,UAAU,EAAE;MACZK,QAAQ,CAAC;QACLC,IAAI,EAAE,YAAY;QAClBC,OAAO,EAAEP;MACb,CAAC,CAAC;IACN,CAAC,MAAM;MACHK,QAAQ,CAAC,IAAI,CAAC;IAClB;IACA,OAAO,MAAM;MACT,IAAID,KAAK,aAALA,KAAK,eAALA,KAAK,CAAEG,OAAO,EAAE;QAChBC,GAAG,CAACC,eAAe,CAACL,KAAK,CAACG,OAAO,CAAC;MACtC;IACJ,CAAC;EACL,CAAC,EAAE,CAACP,UAAU,CAAC,CAAC;EAEhB,MAAMU,MAAM,GAAGxB,WAAW,CACrByB,aAAa,IAAK;IACf,IAAIA,aAAa,CAAC,CAAC,CAAC,EAAE;MAClB,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACE,MAAM,GAAG,MAAM;QAClB,MAAMC,MAAM,GAAGH,MAAM,CAACG,MAAM;QAC5BC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;QACnBV,QAAQ,CAAC;UAAEC,IAAI,EAAE,YAAY;UAAEC,OAAO,EAAEQ;QAAO,CAAC,CAAC;QACjD,IAAI,OAAOd,QAAQ,KAAK,UAAU,EAC9BA,QAAQ,CAACc,MAAM,IAAI,EAAE,CAAC;MAC9B,CAAC;MACDH,MAAM,CAACM,aAAa,CAACP,aAAa,CAAC,CAAC,CAAC,CAAC;IAC1C;EACJ,CAAC,EACD,CAACV,QAAQ,CACb,CAAC;EAED,MAAM;IAAEkB,YAAY;IAAEC;EAAc,CAAC,GAAGxB,WAAW,CAAC;IAChDyB,MAAM,EAAE;MAAE,SAAS,EAAE;IAAG,CAAC;IACzBC,QAAQ,EAAE,CAAC;IACXZ;EACJ,CAAC,CAAC;EAEF,MAAMa,iBAAiB,GAAGA,CAAA,KAAM;IAC5BlB,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI,OAAOJ,QAAQ,KAAK,UAAU,EAC9BA,QAAQ,CAAC,EAAE,CAAC;EACpB,CAAC;EAED,oBACIH,OAAA,CAACL,KAAK;IAAC+B,OAAO,EAAC,UAAU;IAACC,EAAE,EAAE;MAC1BC,SAAS,EAAE,OAAO;MAClBC,OAAO,EAAE,MAAM;MACfC,cAAc,EAAE;IACpB,CAAE;IAAA,GAAK1B,KAAK;IAAA2B,QAAA,EACP,EAACzB,KAAK,aAALA,KAAK,eAALA,KAAK,CAAEG,OAAO,iBACZT,OAAA,CAACJ,KAAK;MAACoC,SAAS;MAAA,GACRX,YAAY,CAAC,CAAC;MAClBM,EAAE,EAAE;QAAEM,CAAC,EAAE,CAAC;QAAEC,MAAM,EAAE,SAAS;QAAEC,KAAK,EAAE,MAAM;QAAEC,MAAM,EAAE;MAAO,CAAE;MAAAL,QAAA,gBAE/D/B,OAAA;QAAA,GAAWsB,aAAa,CAAC;MAAC;QAAAe,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAC9BxC,OAAA,CAACN,UAAU;QAACgC,OAAO,EAAC,OAAO;QAACC,EAAE,EAAE;UAAEc,OAAO,EAAE;QAAI,CAAE;QAAAV,QAAA,EAAC;MAElD;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC,gBAERxC,OAAA,CAACP,GAAG;MACAkC,EAAE,EAAE;QACAe,QAAQ,EAAE,UAAU;QACpBC,SAAS,EAAE,OAAO;QAClBd,OAAO,EAAE,MAAM;QACfC,cAAc,EAAE,QAAQ;QACxBc,UAAU,EAAE,QAAQ;QACpBX,CAAC,EAAE;MACP,CAAE;MAAAF,QAAA,gBAEF/B,OAAA,CAACR,UAAU;QACPqD,OAAO,EAAEpB,iBAAkB;QAC3BE,EAAE,EAAE;UACAe,QAAQ,EAAE,UAAU;UACpBI,QAAQ,EAAE,MAAM;UAChBb,CAAC,EAAE,KAAK;UACRc,KAAK,EAAE,KAAK;UACZC,GAAG,EAAE,KAAK;UACVC,UAAU,EAAE,0BAA0B;UACtC,SAAS,EAAE;YAAEC,SAAS,EAAE,iBAAiB;YAAED,UAAU,EAAE,SAAS;YAAEE,KAAK,EAAE;UAAQ;QACrF,CAAE;QACF,cAAW,QAAQ;QAAApB,QAAA,eAEnB/B,OAAA,CAACH,UAAU;UAACiD,QAAQ,EAAC;QAAS;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC,eACbxC,OAAA;QACIoD,GAAG,EAAE9C,KAAK,CAACG,OAAQ;QACnB4C,KAAK,EAAE;UACHjB,MAAM,EAAE,MAAM;UACdD,KAAK,EAAE,MAAM;UACbmB,SAAS,EAAE;QACf,CAAE;QACFC,GAAG,EAAEjD,KAAK,CAACE;MAAK;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD;EACR;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEhB;AAACnC,EAAA,CAvGQJ,eAAe;EAAA,QAoCoBH,WAAW;AAAA;AAAA0D,EAAA,GApC9CvD,eAAe;AAyGxB,eAAeA,eAAe;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}